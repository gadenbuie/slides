<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>R Markdown: An Incomplete History</title>
    <meta charset="utf-8" />
    <meta name="author" content="Garrick Aden-Buie" />
    <meta name="date" content="2021-02-11" />
    <script src="assets/libs/header-attrs/header-attrs.js"></script>
    <link href="assets/libs/tile-view/tile-view.css" rel="stylesheet" />
    <script src="assets/libs/tile-view/tile-view.js"></script>
    <link href="assets/libs/tachyons/tachyons.min.css" rel="stylesheet" />
    <script type="application/json" id="xaringanExtra-editable-docid">{"id":"xbef1fb2535440589e231a938e8259f3","expires":14}</script>
    <script src="assets/libs/himalaya/himalaya.js"></script>
    <script src="assets/libs/js-cookie/js.cookie.js"></script>
    <link href="assets/libs/editable/editable.css" rel="stylesheet" />
    <script src="assets/libs/editable/editable.js"></script>
    <script src="assets/libs/clipboard/clipboard.min.js"></script>
    <link href="assets/libs/shareon/shareon.min.css" rel="stylesheet" />
    <script src="assets/libs/shareon/shareon.min.js"></script>
    <link href="assets/libs/xaringanExtra-shareagain/shareagain.css" rel="stylesheet" />
    <script src="assets/libs/xaringanExtra-shareagain/shareagain.js"></script>
    <link href="assets/libs/animate.css/animate.min.css" rel="stylesheet" />
    <link href="assets/libs/xaringanExtra-extra-styles/xaringanExtra-extra-styles.css" rel="stylesheet" />
    <meta name="github-repo" content="gadenbuie/slide"/>
    <meta name="twitter:title" content="R Markdown: An Incomplete Hitsory"/>
    <meta name="twitter:description" content="An incomplete history of the literate programming origins of R Markdown. Plus some cool things I&#39;m tinkering with: {epoxy} and {shinyComponents}."/>
    <meta name="twitter:url" content="https://slides.garrickadenbuie.com/toronto-data-workshop/"/>
    <meta name="twitter:image:src" content="https://slides.garrickadenbuie.com/toronto-data-workshop/assets/img/toronto-data-workshop_social.png"/>
    <meta name="twitter:image:alt" content="Title slide of the presentation"/>
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:creator" content="@grrrck"/>
    <meta name="twitter:site" content="@grrrck"/>
    <meta property="og:title" content="R Markdown: An Incomplete Hitsory"/>
    <meta property="og:description" content="An incomplete history of the literate programming origins of R Markdown. Plus some cool things I&#39;m tinkering with: {epoxy} and {shinyComponents}."/>
    <meta property="og:url" content="https://slides.garrickadenbuie.com/toronto-data-workshop/"/>
    <meta property="og:image" content="https://slides.garrickadenbuie.com/toronto-data-workshop/assets/img/toronto-data-workshop_social.png"/>
    <meta property="og:image:alt" content="Title slide of the presentation"/>
    <meta property="og:type" content="website"/>
    <meta property="og:locale" content="en_US"/>
    <meta property="article:author" content="Garrick Aden-Buie"/>
    <link rel="stylesheet" href="assets/css/a11y-light.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/xaringan-rstudio.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/title-slide.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/toronto-data-workshop.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">




name: title
class: top hide-count center
layout: true

&lt;!-- Title Slide --&gt;
.talk-title[
# R Markdown
]

&lt;div class="talk-band left"&gt;
&lt;div class="talk-author f-zilla"&gt;Garrick Aden-Buie&lt;/div&gt;
&lt;div class="talk-twitter code"&gt;&amp;commat;grrrck&lt;/div&gt;
&lt;/div&gt;
&lt;div class="talk-band right"&gt;
&lt;div class="code"&gt;Toronto Data Workshop&lt;/div&gt;
&lt;div class="code"&gt;2021-02-11&lt;/div&gt;
&lt;/div&gt;

---

---

## .pink.f-pompiere.absolute.w-100.left-0.animated.bounceInUp[R's Secret Ingredient]

---

## .pink.f-pompiere.absolute.w-100.left-0.animated.bounceOutUp.faster[R's Secret Ingredient]

## .pink.f-pompiere.absolute.w-100.left-0.animated.bounceInUp[R's Special Sauce]

---

## .pink.f-pompiere.absolute.w-100.left-0.animated.bounceOutUp.faster[R's Special Sauce]

## .pink.f-pompiere.absolute.w-100.left-0.animated.bounceInUp[An Incomplete History]

---

## .pink.f-pompiere.absolute.w-100.left-0.animated.bounceOutUp.faster[An Incomplete History]

## .pink.f-pompiere.absolute.w-100.left-0.animated.bounceInUp[Stuff I'm Working On and Want To Show Off]

---
layout: false

# About Me

.f2[
&amp;#x1F44B; Hi, I'm **Garrick Aden-Buie**
]

--

.f2[
&amp;#x1F426; [&amp;commat;grrrck](https://twitter.com/grrrck)
]

--

.f2[
&amp;#x1F9D1;&amp;#x200D;&amp;#x1F4BB; [garrickadenbuie.com](https://garrickadenbuie.com)
]

--

.f2[
&amp;#xAE;&amp;#xFE0F; [RStudio](https://rstudio.com): [.code[gradethis]](https://github.com/rstudio-education/gradethis), [.code[learnr]](https://github.com/rstudio/learnr)
]

---
background-image: url('https://source.unsplash.com/2LJ4rqK2qfU')
background-size: cover
background-position: center center
background-repeat: no-repeat
layout: false
class: right top

# What is R Markdown?

(wrong answers only)

.can-edit.f-pen.f2[
one  
two
]

---
class: pv0 ph3 middle

&lt;div class="f1 lh-title f-zilla"&gt;
.b[Break Free From Plastic] engaged 14,734 volunteers in 
55 countries to conduct 575 brand audits. 
These volunteers collected 346,494 pieces of plastic waste.
&lt;/div&gt;

---
class: pv0 ph3 middle

&lt;div class="f1 lh-title f-zilla"&gt;
.b[Break Free From Plastic] engaged .hl[14,734] volunteers in 
.hl[55] countries to conduct .hl[575] brand audits. 
These volunteers collected .hl[346,494] pieces of plastic waste.
&lt;/div&gt;

---
class: bg-gray middle hide-count

.f1.f-zilla.white[
A brief history of&lt;br/&gt;
.code.f2[rmarkdown]
]

---
class: fullscreen hide-count

&lt;div class="fl w-30 h-100 animated slideInLeft" style="background-image: url(assets/img/80s-phone.jpg);background-size: cover;background-position: center right;"&gt;
&lt;/div&gt;

---
class: fullscreen hide-count

&lt;div class="fl w-30 h-100" style="background-image: url(assets/img/80s-phone.jpg);background-size: cover;background-position: center right;"&gt;
&lt;/div&gt;

&lt;div class="fl w-70 h-100 bl bw3 b--white animated slideInRight" style="background-image: url(assets/img/iphone-kitchen-stand.jpg);background-size: cover;background-position: center center;"&gt;
&lt;/div&gt;

---
class: bg-gray middle hide-count

.f1.f-zilla.white[
A brief history of&lt;br/&gt;
_literate programming_
]

---
layout: true

&lt;img src="assets/img/knuth.jpg" class="absolute bottom-0 right-1 knuth" height=300&gt;
.side-foot-note[Donald Knuth]

.footnote[[Literate Programming](https://www.cs.tufts.edu/~nr/cs257/archive/literate-programming/01-knuth-lp.pdf)]

---

.f-typewriter.f3.lh-title[
Let  us  change  our  traditional  attitude  
to  the  construction  of  programs:  

__Instead  of__  imagining  that  our main task  
is to __instruct a computer what to do__,  
let us concentrate rather on  
__explaining to human beings__  
what we want a computer to do.
]

---

.f-typewriter.f3.lh-title[
I  was coerced like everybody else into  
adopting the ideas of structured programming,  
because I couldn’t bear to be found guilty of  
writing **unstructured programs**.  

Now I have a chance to get even ...  
surely nobody wants to admit  
writing an **illiterate program**.
]

---

.f-typewriter.f3.lh-title[
This language and its associated programs  
have come to be known as **the WEB system**.

I  chose  the  name **WEB** partly because  
it  was  one  of the  few three-letter  
words of English that  hadn’t  
already been applied to computers.
]

---
class: middle faded-knuth

&lt;img src="assets/img/web-figure-one.png" style:"z-index: 100"&gt;

.footnote[[Literate Programming](https://www.cs.tufts.edu/~nr/cs257/archive/literate-programming/01-knuth-lp.pdf)]

???

A WEB user writes a program that serves as the source language  for  two  different  system  routines.   (See  Figure  1.)   One  line  of  processing  is  called weaving the web;  it  produces  a  document  that  describes  the  program clearly and that facilitates program maintenance. The other line of processing is called tangling the web; it  produces  a  machine-executable  program.   The  program and its documentation are both generated from the same source, so they are consistent with each other.

---
class: faded-knuth

.f-typewriter.f3[
The result of the program will be to produce a list of the first thousand prime numbers...
]

.f-typewriter.f4[
〈Program to print the first thousand prime numbers 2〉≡   
.b[program] .i[print_primes] (.i[output]);  
&amp;nbsp;&amp;nbsp;.b[const] *m* = 1000;  
&amp;nbsp;&amp;nbsp;〈Other constants of the program 5〉  
&amp;nbsp;&amp;nbsp;.b[var]〈Variables of the program 4〉  
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;.b[begin]〈Print the first *m* prime numbers 3〉;  
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;.b[end].
]

---
class: faded-knuth

.f-typewriter.f3[
We shall proceed to fill out the rest of the program by making whatever decisions seem easiest at each step.

So let's come up with a list of prime numbers.
]

.f-typewriter.f4[
〈Print the first .i[m] prime numbers 3〉≡   
&amp;nbsp;&amp;nbsp;〈Fill table .i[p] with the first .i[m] prime numbers 11〉  
&amp;nbsp;&amp;nbsp;〈Print table .i[p] 8〉
]

---
class: faded-knuth

.f-typewriter.f3[
Now that the appropriate auxiliary variables have been introduced,
the process of outputting table .i[p] almost writes itself.
]

.f-typewriter.f4[
〈Print table .i[p] 8〉≡   
&amp;nbsp;&amp;nbsp;.b[begin] .i[page_number] &lt;- 1; .i[page_offset] = 1;  
&amp;nbsp;&amp;nbsp;.b[while] .i[page_offset] &amp;leq; .i[m] .b[do]  
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;.b[begin]〈Output a page of answers 9〉;     
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;.i[page_number] &lt;- .i[page_number] + 1;  
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;.i[page_offset] &lt;- .i[page_offset] + rr * cc;  
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;.b[end];  
&amp;nbsp;&amp;nbsp;.b[end];
]

---
layout: false



&lt;div class="fl w-50 h-100 ba bw3 b--white animated slideInLeft" style="background-image: url(assets/img/code-comments-1.png);background-size: contain;background-position: center center;background-repeat:no-repeat;"&gt;
&lt;/div&gt;

&lt;div class="fl w-50 h-100 ba bw3 b--white animated slideInRight" style="background-image: url(assets/img/code-comments-2.png);background-size: contain;background-position: center center;background-repeat:no-repeat;"&gt;
&lt;/div&gt;

---
class: bg-gray middle hide-count

.f1.f-zilla.white[
A brief history of&lt;br/&gt;
_literate programming_&lt;br/&gt;
in R
]


---
layout: true
class: no-margins

# sweave

---
background-image: url(assets/img/rotary-phone.jpg)
background-size: cover
background-position: center center

---

```latex
\documentclass{article}

\usepackage{amsmath}
\usepackage{amscd}
\usepackage[utf8]{inputenc}

\begin{document}
\SweaveOpts{concordance=TRUE}

\title{An Sweave Demo}
\author{Charles J. Geyer}
\maketitle

% .... 

```

---

.overflow-hidden.relative[
.animated.slideOutUp.absolute[
```latex
\documentclass{article}

\usepackage{amsmath}
\usepackage{amscd}
\usepackage[utf8]{inputenc}

\begin{document}
\SweaveOpts{concordance=TRUE}

\title{An Sweave Demo}
\author{Charles J. Geyer}
\maketitle

% .... 

```
]

.animated.slideInUp[
```
This is a demo for using the \verb@Sweave@ command in R.  To
get started make a regular \LaTeX\ file (like this one) but
give it the suffix \verb@.Rnw@ instead of \verb@.tex@ and then
turn it into a \LaTeX\ file (\verb@foo.tex@) with the (unix) command
\begin{verbatim}
R CMD Sweave foo.Rnw
\end{verbatim}

Well, we can now include R in our document.  Here's a simple example
&lt;&lt;two&gt;&gt;=
2 + 2
@
```
]
]

---

.overflow-hidden.relative[
.animated.slideOutUp.absolute[
```
This is a demo for using the \verb@Sweave@ command in R.  To
get started make a regular \LaTeX\ file (like this one) but
give it the suffix \verb@.Rnw@ instead of \verb@.tex@ and then
turn it into a \LaTeX\ file (\verb@foo.tex@) with the (unix) command
\begin{verbatim}
R CMD Sweave foo.Rnw
\end{verbatim}

Well, we can now include R in our document.  Here's a simple example
&lt;&lt;two&gt;&gt;=
2 + 2
@
```
]

.animated.slideInUp[
```latex
Figure~\ref{fig:one} (p.~\pageref{fig:one})
is produced by the following code
&lt;&lt;label=fig1plot,include=FALSE&gt;&gt;=
plot(x, y)
abline(out1)
@
\begin{figure}
\begin{center}
&lt;&lt;label=fig1,fig=TRUE,echo=FALSE&gt;&gt;=
&lt;&lt;fig1plot&gt;&gt;
@
\end{center}
\caption{Scatter Plot with Regression Line}
\label{fig:one}
\end{figure}
Note that \verb@x@, \verb@y@, and \verb@out1@ are remembered from
the preceding code chunk.  We don't have to regenerate them.
All code chunks are part of one R ``session''.
```
]
]

---

```latex
Figure~\ref{fig:one} (p.~\pageref{fig:one})
is produced by the following code
*&lt;&lt;label=fig1plot,include=FALSE&gt;&gt;=
*plot(x, y)
*abline(out1)
*@
\begin{figure}
\begin{center}
*&lt;&lt;label=fig1,fig=TRUE,echo=FALSE&gt;&gt;=
*&lt;&lt;fig1plot&gt;&gt;
*@
\end{center}
\caption{Scatter Plot with Regression Line}
\label{fig:one}
\end{figure}
Note that \verb@x@, \verb@y@, and \verb@out1@ are remembered from
the preceding code chunk.  We don't have to regenerate them.
All code chunks are part of one R ``session''.
```

--

&lt;img src="assets/img/sweave-r-output.png" class="animated rollIn sweave"&gt;


---

```latex
Figure~\ref{fig:one} (p.~\pageref{fig:one})
is produced by the following code
*&lt;&lt;label=fig1plot,include=FALSE&gt;&gt;=
plot(x, y)
abline(out1)
*@
\begin{figure}
\begin{center}
*&lt;&lt;label=fig1,fig=TRUE,echo=FALSE&gt;&gt;=
&lt;&lt;fig1plot&gt;&gt;
*@
\end{center}
\caption{Scatter Plot with Regression Line}
\label{fig:one}
\end{figure}
Note that \verb@x@, \verb@y@, and \verb@out1@ are remembered from
the preceding code chunk.  We don't have to regenerate them.
All code chunks are part of one R ``session''.
```

---

```latex
Figure~\ref{fig:one} (p.~\pageref{fig:one})
is produced by the following code
*&lt;&lt;label=fig1plot,include=FALSE&gt;&gt;=
plot(x, y)
abline(out1)
@
\begin{figure}
\begin{center}
&lt;&lt;label=fig1,fig=TRUE,echo=FALSE&gt;&gt;=
*&lt;&lt;fig1plot&gt;&gt;
@
\end{center}
\caption{Scatter Plot with Regression Line}
\label{fig:one}
\end{figure}
Note that \verb@x@, \verb@y@, and \verb@out1@ are remembered from
the preceding code chunk.  We don't have to regenerate them.
All code chunks are part of one R ``session''.
```

--

&lt;img src="assets/img/sweave-figure-1.png" class="animated rollIn sweave" height=500&gt;

---
layout: true

# knitr

---

---

&lt;div class="fr w-75 h-100 bl bw3 b--white animated slideInRight absolute right-2 top-2" style="background-image: url(assets/img/zach-morris-phone.jpg);background-size: contain;background-position: center center;background-repeat:no-repeat;"&gt;
&lt;/div&gt;

---

[Yihui Xie - Interview by DataScience.LA at useR 2014][yihui-knitr-interview]

&lt;div class="fr w-75 bl bw3 b--white animated slideInLeft absolute left-0" style="height:65%;background-image: url(assets/img/yihui-knitr-interview.jpg);background-size: contain;background-position: center center;background-repeat:no-repeat;"&gt;
&lt;/div&gt;

---

.f3[
1. Write in [markdown](https://commonmark.org/help/)

1. Cleaner chunk and inline R code syntax

1. Easy figures

1. Still literate
]

---

````markdown
Let's write another program that computes prime numbers, called `prime_numbers()`.

```
prime_numbers &lt;- function(m = 1) {
  &lt;&lt;prime-numbers&gt;&gt;
}
```
````

--

Let's write another program that computes prime numbers, called `prime_numbers()`.

```
prime_numbers &lt;- function(m = 1) {
  &lt;&lt;prime-numbers&gt;&gt;
}
```

---

````markdown
Well, we can now include R in our document.  Here's a simple example.

```{r two}
2 + 2
```
````

--

.mt5[
Well, we can now include R in our document.  Here's a simple example.


```r
2 + 2
```

```
## [1] 4
```
]

---
name: figure1

````markdown
Figure 1 is produced by the following code

```{r fig1plot, fig.width = 4, fig.height = 4}
n &lt;- 50
x &lt;- seq(1, n)
y &lt;- 3 + (1.5 * x) + (17.3 * rnorm(n))
fit &lt;- lm(y ~ x)
plot(x, y)
par(mar = rep(0, 4))
abline(fit)
```
````

&lt;img src="index_files/figure-html/fig1plot-1.png" width="100%" /&gt;

---

````markdown
For one point, `x` is `r x[10]`, `y` is `r y[10]` and we predict
`y` will be `r predict(fit, list(x = 10))`.
````

--

For one point, `x` is 10, `y` is 29.892249 and we predict
`y` will be 22.8093023.

---
layout: true

# knitr with pandoc

---

---

&lt;div class="fr w-40 h-100 bl bw3 b--white animated slideInUp absolute right-2 top-2" style="background-image: url(assets/img/nokia-ad.jpg);background-size: contain;background-position: center center;background-repeat:no-repeat;"&gt;
&lt;/div&gt;

---

&lt;div class="fr w-50 bl bw3 b--white animated slideInUp absolute left-2 bottom-1 overflow-scroll" style="height:75%"&gt;
&lt;img src="https://pandoc.org/diagram.jpg" /&gt;
&lt;/div&gt;

&lt;div class="fr w-40 h-100 bl bw3 b--white absolute right-2 top-2" style="background-image: url(assets/img/nokia-ad.jpg);background-size: contain;background-position: center center;background-repeat:no-repeat;"&gt;
&lt;/div&gt;

---

&lt;div class="shadow-6"&gt;
&lt;div class="code-window-title-bar ph2 mb0 pv1 mt5 small bg-black-05 black-80 center relative"&gt;
Terminal
&lt;div class="code-window-circles"&gt;
  &lt;span class="code-window-circle bg-red br-100 dib"&gt;&lt;/span&gt;&lt;span class="code-window-circle bg-yellow br-100 dib"&gt;&lt;/span&gt;&lt;span class="code-window-circle bg-green br-100 dib"&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;pre class="mt0 pa3 bg-black white"&gt;.code.white[pandoc report.md -o report.pdf]&lt;/pre&gt;
&lt;/div&gt;

---

&lt;div class="shadow-6"&gt;
&lt;div class="code-window-title-bar ph2 mb0 pv1 mt5 small bg-black-05 black-80 center relative"&gt;
Terminal
&lt;div class="code-window-circles"&gt;
  &lt;span class="code-window-circle bg-red br-100 dib"&gt;&lt;/span&gt;&lt;span class="code-window-circle bg-yellow br-100 dib"&gt;&lt;/span&gt;&lt;span class="code-window-circle bg-green br-100 dib"&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;pre class="mt0 pa3 bg-black white"&gt;.code.white[pandoc report.md -o report..yellow.animated.heartBeat.dib[docx]]&lt;/pre&gt;
&lt;/div&gt;

---

&lt;div class="shadow-6"&gt;
&lt;div class="code-window-title-bar ph2 mb0 pv1 mt5 small bg-black-05 black-80 center relative"&gt;
Terminal
&lt;div class="code-window-circles"&gt;
  &lt;span class="code-window-circle bg-red br-100 dib"&gt;&lt;/span&gt;&lt;span class="code-window-circle bg-yellow br-100 dib"&gt;&lt;/span&gt;&lt;span class="code-window-circle bg-green br-100 dib"&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;pre class="mt0 pa3 bg-black white"&gt;.code.white[pandoc report.md -o report..yellow.animated.heartBeat.dib[pptx]]&lt;/pre&gt;
&lt;/div&gt;

---

&lt;div class="shadow-6"&gt;
&lt;div class="code-window-title-bar ph2 mb0 pv1 mt5 small bg-black-05 black-80 center relative"&gt;
Terminal
&lt;div class="code-window-circles"&gt;
  &lt;span class="code-window-circle bg-red br-100 dib"&gt;&lt;/span&gt;&lt;span class="code-window-circle bg-yellow br-100 dib"&gt;&lt;/span&gt;&lt;span class="code-window-circle bg-green br-100 dib"&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;pre class="mt0 pa3 bg-black white"&gt;.code.white[pandoc report.md -o report..yellow.animated.heartBeat.dib[epub]]&lt;/pre&gt;
&lt;/div&gt;

---

&lt;div class="shadow-6"&gt;
&lt;div class="code-window-title-bar ph2 mb0 pv1 mt5 small bg-black-05 black-80 center relative"&gt;
Terminal
&lt;div class="code-window-circles"&gt;
  &lt;span class="code-window-circle bg-red br-100 dib"&gt;&lt;/span&gt;&lt;span class="code-window-circle bg-yellow br-100 dib"&gt;&lt;/span&gt;&lt;span class="code-window-circle bg-green br-100 dib"&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;pre class="mt0 pa3 bg-black white"&gt;.code.white[pandoc report.md -o report..yellow.animated.heartBeat.dib[html]]&lt;/pre&gt;
&lt;/div&gt;

---

&lt;div class="shadow-6"&gt;
&lt;div class="code-window-title-bar ph2 mb0 pv1 mt5 small bg-black-05 black-80 center relative"&gt;
Terminal
&lt;div class="code-window-circles"&gt;
  &lt;span class="code-window-circle bg-red br-100 dib"&gt;&lt;/span&gt;&lt;span class="code-window-circle bg-yellow br-100 dib"&gt;&lt;/span&gt;&lt;span class="code-window-circle bg-green br-100 dib"&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="mt0 pa3 bg-black white"&gt;.code.white[pandoc report.md -o report.html .yellow[--no-highlight \&lt;br&gt;&amp;nbsp;&amp;nbsp;--css assets/css/title-slide.css \&lt;br&gt;&amp;nbsp;&amp;nbsp;--css assets/css/toronto-data-workshop.css \&lt;br&gt;&amp;nbsp;&amp;nbsp;--section-divs --standalone --variable math=true]]&lt;/div&gt;
&lt;/div&gt;


---
layout: true

# R Markdown

---

&lt;div class="overflow-hidden h-100 absolute left-2 top-2 rmarkdown-workflow" style="width: 15%"&gt;&lt;div&gt;


---

&lt;div class="overflow-hidden h-100 absolute left-2 top-2 rmarkdown-workflow" style="width: 45%"&gt;&lt;div&gt;


---

&lt;div class="overflow-hidden h-100 absolute left-2 top-2 rmarkdown-workflow w-100" &gt;&lt;div&gt;

---

![](assets/img/iphone-original.jpg)

---

![](assets/img/iphone-original-2.jpg)

---
layout: false
class: apple-gradient hide-count middle

.flex[
.w-40.ph4.flex.items-center.justify-center.animated.slideInLeft[
![](assets/img/rmarkdown.png)
]

.w-60.white.f3.pl5.lh-extra.flex.items-center.justify-center.animated.flipInY.delay-1s[
PDF Reports  
Word Documents  
PowerPoint Presentations  
Interactive Dashboards  
Books  
Websites
]
]


---
layout: false
class: apple-gradient hide-count middle

.flex[
.w-40.ph4.flex.items-center.justify-center[
![](assets/img/rmarkdown.png)
]

.w-60.white.f3.pl5.lh-extra.flex.items-center.justify-center.animated.flipInY[
Slides Like These!
]
]

---
class: hide-count middle

# rmarkdown

[rmarkdown.rstudio.com](https://rmarkdown.rstudio.com)

.w-50.h-100.absolute.right-0.top-0[
![](assets/img/rmarkdown-webpage.png)
]

---
class: inverse middle

# epoxy

---
layout: false

## knitr documents can write themselves





````markdown
```{r}
years &lt;- c(2019, 2020)
grand_total &lt;- c(858462, 346494)
```

```{r plastics}
items &lt;- paste(
  "\n- In", years, "we collected", grand_total, "pieces of plastic."
)
items
```
````

--


```
## [1] "\n- In 2019 we collected 858462 pieces of plastic."
## [2] "\n- In 2020 we collected 346494 pieces of plastic."
```

---
layout: true

## knitr documents can write themselves

````markdown
```{r}
years &lt;- c(2019, 2020)
grand_total &lt;- c(858462, 346494)
```

```{r plastics, results = "asis"}
items &lt;- paste(
  "\n- In", years, "we collected", grand_total, "pieces of plastic."
)
cat(items)
```
````

---

---

````markdown
- In 2019 we collected 858462 pieces of plastic.
- In 2020 we collected 346494 pieces of plastic.
````

---




- In 2019 we collected 858462 pieces of plastic. 
- In 2020 we collected 346494 pieces of plastic.

---
layout: true

# Meet glue

---


```r
paste(
  "\n- In", years, "we collected", grand_total, "pieces of plastic."
)
```

```
## [1] "\n- In 2019 we collected 858462 pieces of plastic."
## [2] "\n- In 2020 we collected 346494 pieces of plastic."
```

--

.mv4[
***
]


```r
library(glue)

glue("\n- In {years} we collected {grand_total} pieces of plastic.")
```

```
## - In 2019 we collected 858462 pieces of plastic.
## - In 2020 we collected 346494 pieces of plastic.
```

---
layout: true

# epoxy, like superglue

---

&amp;#x1F449; [gadenbuie/epoxy][epoxy]

--



--


```r
library(epoxy)
```

---


```r
glue("\n- In {years} we collected {grand_total} pieces of plastic.")
```

```
## - In 2019 we collected 858462 pieces of plastic.
## - In 2020 we collected 346494 pieces of plastic.
```

---

````markdown
```{glue}
- In {years} we collected {grand_total} pieces of plastic.

```
````

- In 2019 we collected 858462 pieces of plastic.

- In 2020 we collected 346494 pieces of plastic.

---

[#tidytuesday](# https://github.com/rfordatascience/tidytuesday/blob/master/data/2021/2021-01-26/)

[Break Free From Plastics](https://www.breakfreefromplastic.org/globalbrandauditreport2020/)


```r
library(dplyr)

# plastics &lt;- tidytuesdayR::tt_load(2021, week = 5)$plastics
plastics &lt;- readr::read_csv(here::here("data", "plastics.csv"))

plastics_grand_summary &lt;- 
  plastics %&gt;% 
  group_by(country, year, num_events, volunteers) %&gt;% 
  summarize(
    grand_total = sum(grand_total, na.rm = TRUE),
    .groups = "drop"
  ) %&gt;% 
  arrange(year, desc(grand_total))
```

---


```r
plastics_grand_summary
```

```
## # A tibble: 107 x 5
##    country                      year num_events volunteers grand_total
##    &lt;chr&gt;                       &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;
##  1 Taiwan_ Republic of China …  2019          2      31318      241292
##  2 NIGERIA                      2019         14       1648      161140
##  3 EMPTY                        2019        145       1416      113910
##  4 Philippines                  2019         20       3751       74032
##  5 Indonesia                    2019         32       6850       26618
##  6 ECUADOR                      2019          1        455       25430
##  7 Vietnam                      2019          4        400       21774
##  8 Kenya                        2019          5       1560       18988
##  9 Cameroon                     2019         10        387       17190
## 10 Switzerland                  2019          6        327       15002
## # … with 97 more rows
```

---


```r
plastics_year_summary &lt;- 
  plastics_grand_summary %&gt;% 
  group_by(year) %&gt;% 
  summarize(
    countries = n(),
    across(c(num_events, volunteers, grand_total), sum, na.rm = TRUE)
  ) %&gt;%
  mutate(across(-(1:2), format, big.mark = ","))
```

---


```r
plastics_year_summary
```

```
## # A tibble: 2 x 5
##    year countries num_events volunteers grand_total
## * &lt;dbl&gt;     &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;      
## 1  2019        52 483        72,236     858,462    
## 2  2020        55 575        14,734     346,494
```

---

````markdown
```{glue data = plastics_year_summary}
- **In {year}**, _Break Free From Plastic_ engaged {volunteers} volunteers in 
  {countries} countries to conduct {num_events} brand audits. 
  These volunteers collected {grand_total} pieces of plastic waste.

```
````

---

.f3[
- **In 2019**, _Break Free From Plastic_ engaged 72,236 volunteers in 
  52 countries to conduct 483 brand audits. 
  These volunteers collected 858,462 pieces of plastic waste.

- **In 2020**, _Break Free From Plastic_ engaged 14,734 volunteers in 
  55 countries to conduct 575 brand audits. 
  These volunteers collected 346,494 pieces of plastic waste.
]


---
layout: false
class: inverse middle

# shinyComponents

---

# R Markdown all the things


&amp;#x1F449; [gadenbuie/shinyComponents][epoxy]





---
layout: false
class: inverse middle

# Resources

---

## Links and Further Reading

- [epoxy]

- [shinyComponents]

- [R Markdown Cookbook](https://bookdown.org/yihui/rmarkdown-cookbook/)

- [Wrap Vectors in Markdown Formatting • gluedown](https://kiernann.com/gluedown/)

- [Yihui Xie - New developments in knitr and R Markdown v2 (2014)](https://www.youtube.com/watch?v=2yvW0O_7xOg)

- [Yihui Xie - Interview by DataScience.LA at useR 2014][yihui-knitr-interview]

[yihui-knitr-interview]: https://www.youtube.com/watch?v=LussVnrLZKU
[epoxy]: https://github.com/gadenbuie/epoxy
[shinyComponents]: https://github.com/gadenbuie/shinyComponents



&lt;script type="text/javascript"&gt;
document.querySelectorAll('code').forEach(function(el) {
  if (el.matches('.markdown')) {
    el.parentElement.classList.add('markdown')
  }
})
&lt;/script&gt;


    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"slideNumberFormat": "%current%",
"highlightStyle": "foo",
"highlightLines": true,
"highlightLanguage": ["r", "latex", "yaml", "markdown", "javascript", "html"],
"ratio": "16:9",
"countIncrementalSlides": true
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
  </body>
</html>
